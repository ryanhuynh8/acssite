<div id="page-heading">
	<ol class="breadcrumb">
		<li><a href="#/">Dashboard</a></li>
		<li class="active">User</li>
	</ol>

	<div class="options">
		<div class="btn-toolbar">
			<a href="#" class="btn btn-default hidden-xs"><i class="glyphicon glyphicon-cog"></i></a>
		</div>
	</div>
</div>

<div class="container-fluid" ng-controller="userController">
	<h1 ng-show="mode !== 'edit'">Add new user</h1>
	<h1 ng-show="mode === 'edit'">Edit user</h1>
	<form class="form-horizontal row-border" name="userForm" ng-submit="submit()" novalidate>
		<panel panel-class="panel-midnightblue" heading="Personal information">
			<div class="form-group" ng-class="{'has-error': userForm.first_name.$invalid && !userForm.first_name.$pristine}">
				<label class="col-sm-3 control-label">First Name</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="first_name" ng-model="user.first_name" required>
				</div>
				<span class="help-block" ng-show="userForm.first_name.$invalid && !userForm.first_name.$pristine">This field is required.</span>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Middle Name</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="user.middle_name" name="">
				</div>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.last_name.$invalid && !userForm.last_name.$pristine}">
				<label class="col-sm-3 control-label">Last Name</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="last_name" ng-model="user.last_name" required>
				</div>
				<span class="help-block" ng-show="userForm.last_name.$invalid && !userForm.last_name.$pristine">This field is required.</span>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Sex</label>
				<div class="col-sm-6">
					<div class="radio">
						<label>
							<input icheck type="radio" value="0" checked ng-model="user.sex">
							Male
						</label>
					</div>
					<div class="radio">
						<label>
							<input icheck type="radio" value="1" ng-model="user.sex">
							Female
						</label>
					</div>
				</div>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.address.$invalid && !userForm.address.$pristine}">
				<label class="col-sm-3 control-label">Address</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="address" ng-model="user.address" required>
				</div>
				<span class="help-block" ng-show="userForm.address.$invalid && !userForm.address.$pristine">This field is required.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.state.$invalid && !userForm.state.$pristine}">
				<label class="col-sm-3 control-label">State</label>
				<div class="col-sm-6">
					<select class="form-control" ng-model="user.state" ng-options="state.abbreviation as state.	abbreviation for state in states" name="state" required></select>					
				</div>
				<span class="help-block" ng-show="userForm.state.$invalid && !userForm.state.$pristine">This field is required.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.city.$invalid && !userForm.city.$pristine}">
				<label class="col-sm-3 control-label">City</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="city" ng-model="user.city" required>
				</div>
				<span class="help-block" ng-show="userForm.city.$invalid && !userForm.city.$pristine">This field is required.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.zipcode.$invalid && !userForm.zipcode.$pristine}">
				<label class="col-sm-3 control-label">Zipcode</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="zipcode" ng-model="user.zip" required>
				</div>
				<span class="help-block" ng-show="userForm.zipcode.$invalid && !userForm.zipcode.$pristine">Enter a valid zipcode.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.phone1.$invalid && !userForm.phone1.$pristine}">
				<label class="col-sm-3 control-label">Phone Number #1</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="phone1" ng-model="user.phone1" required>
				</div>
				<span class="help-block" ng-show="userForm.phone1.$invalid && !userForm.phone1.$pristine">Enter a valid phone number.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.phone2.$invalid && !userForm.phone2.$pristine}">
				<label class="col-sm-3 control-label">Phone Number #2</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" ng-model="user.phone2">
				</div>
				<span class="help-block" ng-show="userForm.phone2.$invalid && !userForm.phone2.$pristine">Enter a valid phone number.</span>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.email.$invalid && !userForm.email.$pristine}">
				<label class="col-sm-3 control-label">Email</label>
				<div class="col-sm-6">
					<input type="email" class="form-control" name="email" ng-model="user.email" required>
				</div>
				<span class="help-block" ng-show="userForm.email.$invalid && !userForm.email.$pristine">Enter a valid email.</span>
			</div>
		</panel>
		<panel panel-class="panel-midnightblue" heading="Login information">
			<div class="form-group" ng-class="{'has-error': userForm.username.$invalid && !userForm.username.$pristine}">
				<label class="col-sm-3 control-label">Username</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="username" ng-model="user.user_name" required>
				</div>
			</div>
			<div class="form-group" ng-class="{'has-error': userForm.password.$invalid && !userForm.password.$pristine}">
				<label class="col-sm-3 control-label">Password</label>
				<div class="col-sm-6">
					<input type="password" class="form-control" name="password" ng-model="user.password">
				</div>
				<span class="help-block" ng-show="userForm.password.$invalid && !userForm.password.$pristine">Password is required.</span>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Confirm Password</label>
				<div class="col-sm-6">
					<input type="password" class="form-control" ng-model="user.confirm_password">
				</div>
			</div>
		</panel>
		<panel panel-class="panel-midnightblue" heading="Confidential information">
			<div class="form-group" ng-class="{'has-error': userForm.ss_number.$invalid && !userForm.ss_number.$pristine}">
				<label class="col-sm-3 control-label">Social Security Number</label>
				<div class="col-sm-6">
					<input type="text" class="form-control" name="ss_number" ng-model="user.ss_number" required>
				</div>
				<span class="help-block" ng-show="userForm.ss_number.$invalid && !userForm.ss_number.$pristine">Enter a social security number.</span>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">DOB</label>
				<div class="col-sm-6">
					<div class="input-group">
						<input type="text" class="form-control datepicker" datepicker-popup="MM-dd-yyyy" ng-model="user.dob" is-open="opened1" close-text="Close" required />
						<div class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="open1($event)"><i class="glyphicon glyphicon-calendar"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Date Hired</label>
				<div class="col-sm-6">
					<div class="input-group">
						<input type="text" class="form-control datepicker" datepicker-popup="MM-dd-yyyy" ng-model="user.date_hired" is-open="opened2" close-text="Close" required />
						<div class="input-group-btn">
							<button type="button" class="btn btn-default" ng-click="open2($event)"><i class="glyphicon glyphicon-calendar"></i>
							</button>
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Employee Type</label>
				<div class="col-sm-6">
					<div class="radio">
						<label>
							<input icheck type="radio" id="optionsRadios1" value="0" checked ng-model="user.employee_type">
							Contractor
						</label>
					</div>
					<div class="radio">
						<label>
							<input icheck type="radio" id="optionsRadios2" value="1" ng-model="user.employee_type">
							Full-Time
						</label>
					</div>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-3"></div>
				<div class="col-sm-6">
					<alert ng-show="showError" type="danger"><span style="white-space:pre">{{ errorMsg }}</span></alert>
				</div>
			</div>
			<div class="panel-footer">
				<div class="row">
					<div class="col-sm-6 col-sm-offset-3">
						<div class="btn-toolbar">
							<button type="submit" class="btn-primary btn" ng-disabled="userForm.$invalid">Submit</button>
							<a href="#/users"><button type="submit" class="btn-default btn" ng-show="mode==='edit'">Back to list</button></a>
							<button type="reset" class="btn-default btn" ng-hide="mode==='edit'">Reset</button>
						</div>
					</div>
				</div>
			</div>
		</panel>
	</form>
</div>

